{% extends 'main/base.html' %}
{% load static %}
{% block style %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="{% static 'photo/photo_detail.css' %}">

{% endblock %}
{% block content %}
    <div id="all">

        <div id="editbtn">
            {% if object.author == request.user.user_profile %}
                <button class="button_7"><a href="{% url 'photo:update' object.id %}">EDIT</a></button>
            {% endif %}
            <button class="button_7"><a href="{% url 'photo:index' %}">홈으로 가기</a></button>
        </div>
        <div id="imgwrap">

            {% if object.image %}
                <img src=" {{ object.image.url }}" alt="...">
            {% endif %}
        </div>

        <div id="wrap4">


            <ul>
                <li>
                    {% if user in object.like.all %}
                        <a href="{% url 'photo:like' object.id %}">
{#                             사용자가 like 버튼 누르면 보이게 할 색#}
                            <i style="color: orangered" class="fas fa-heart"></i>
                        </a>
                    {% else %}
                        <a href="{% url 'photo:like' object.id %}">
{# 사용자가 like 버튼 안 누르면 보이게 할 색#}
                            <i style="color: cornflowerblue" class="fas fa-heart"></i>
                        </a>
                    {% endif %}
                    {% if object.like.all.count %}
                        <span>{{ object.like.all.count }}</span>
                    {% endif %}
                </li>

                {% if not object.author == request.user.user_profile %}
                    <p>
                        <a href="{% url 'create_profile:show_each_profile' object.author.user.pk %}">작성자| {{ object.author.nickname }}</a><br/>
                        {{ object.author.interested }}</p>
                {% else %}
                {% endif %}
                <li>{{ object.title }}</li>
                <div class="content_text"> {{ object.text|safe }} </div>
                {# 이 밑에 지우지 말아요#}
                <li>{{ object.created|date:'Y-m-d' }}</li>

            </ul>


        </div>

        <div id="comment">
            {{ comments }}
            댓글 쓰는 칸입니다요!
            <form action="" method="post">
                {% csrf_token %}
                {{ form.as_p }}
                 <input type="submit" id="save" value="SAVE"/>
                </form>
        </div>

    </div>
{% endblock %}