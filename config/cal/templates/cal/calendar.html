{% extends 'cal/base.html' %}
{% load static %}
{% load staticfiles %}



{% block script %}
    {#      $('#calendar').Calendar({#}
    {#    eventClick: function (event) {#}
    {#        ShowEditScreen(event.id);#}
    {#    },#}
    {#    dayClick: function (date) {#}
    {#        var events = $('#calendar').Calendar('clientEvents');#}
    {#        for (var i = 0; i < events.length; i++) {#}
    {#            if (moment(date).isSame(moment(events[i].start))) {#}
    {#                ShowEditScreen(events[i].id);#}
    {#                break;#}
    {#            }#}
    {#            else if (i == events.length - 1) {#}
    {#                ShowCreateNew(date);#}
    {#            }#}
    {#        }#}
    {#    }#}

    {#var date = document.querySelector('td')#}
    {#$(date).on(onclick, function(){#}
    {#    alert('day clicked');#}

    {#      dayClick: function(date, allDay, jsEvent, view) {#}
    {#  $('#calendar').Calendar('clientEvents', function(event) {#}
    {#    // match the event date with clicked date if true render clicked date events#}
    {#    if (moment(date).format('YYYY-MM-DD') == moment(event._start).format('YYYY-MM-DD')) {#}
    {#      // do your stuff here#}
    {#      console.log(event.title);#}
    {##}
    {#      // if you have subarray i mean array within array then#}
    {#      console.log(event.subarray[0].yoursubarrayKey);#}
    {#    }#}
    {#  }#}
            {#document.write('<li><a href="#" title="' + _i + '" data-value="' + _i + '"' + _addClass + '>' + _i + '</a></li>');#}


    <script>



    </script>
{% endblock %}
{% block content_cal %}
    <div style="height: 100px;"></div>
    <div id="cal">
        <div class="clearfix">
            <button class="button_4"><a class="button_first" href="{% url 'cal:calendar' %}?{{ prev_month }}"> Previous Month </a></button>
            <button class="button_4"><a class="button_middle" href="{% url 'cal:event_new' %}"> New Event </a></button>
            <button class="button_4"><a class="button_last" href="{% url 'cal:calendar' %}?{{ next_month }}"> Next Month </a></button>

        </div>

        {{ calendar }}

    </div>

    <div class="contain">
        <div class="today_list_total">

            <p class="today">Today</p>


            {% if today_list.today_list_items|length %}
                {% for list in today_list.today_list_items %}
                    <div class="today_list_item">
                        <span>{{ list.title }}</span>
                        <span class="each_rating">{{ list.rating }}</span>

                    </div>
                {% endfor %}
                </div>

                <div class="today_rating">
                    <span class="total">TOTAL</span>
                    {% for value in today_list.today_list_rating_sum %}
                        {{ value }}
                    {% endfor %}
                </div>

            {% else %}
                <h5>오늘 등록한 뱃지가 없습니다😥</h5>
            {% endif %}
        {#                    {{ object_list.today_list_items }}#}
        <div class="go_dashboard">
            {#  추후 url추가해서 만약 user가 7일 이상 활동했으면 dashboard보여주고 아니면 7일 후 볼 수 있다는 안내 페이지로 이동#}
            <button><a href="{% url 'cal:dash' %}">뭐 보러 가볼래?</a></button>
        </div>

    </div>

{% endblock %}